!function(){"use strict";var t={666:function(t,e){function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}"object"===o(e)&&(t.exports=function(){try{if("undefined"==typeof localStorage)return!1;if(localStorage.setItem("Storage-Test","1"),"1"!==localStorage.getItem("Storage-Test"))return!1;localStorage.removeItem("Storage-Test")}catch(t){return!1}return!0})}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,o),i.exports}o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,{a:e}),e},o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t=o(666),e=o.n(t);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}!function(){var t=window,o=t.ghostFrameworkNightMode,r=t.matchMedia,s=t.jQuery,f=!!e()()&&window.localStorage;if(void 0!==o&&f){var l=s(document),p=o.is_editor?s(".editor-styles-wrapper"):s("html");if(o.is_editor){var d=wp.element.Component,y=wp.plugins.registerPlugin,h=wp.data.withSelect,g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,t);var e,o,r,f,l=(r=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=a(r);if(f){var o=a(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return u(this,t)});function d(){var t;n(this,d);for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(t=l.call.apply(l,[this].concat(o))).state={editorMode:t.props.editorMode},t}return e=d,(o=[{key:"componentDidMount",value:function(){this.switch()}},{key:"componentDidUpdate",value:function(){this.state.editorMode!==this.props.editorMode&&(this.setState({editorMode:this.props.editorMode}),this.switch())}},{key:"switch",value:function(){p=s(".editor-styles-wrapper"),m(!1)}},{key:"render",value:function(){return null}}])&&i(e.prototype,o),d}(d);y("ghost-framework-editor-night-mode",{render:h((function(t){var e=(t("core/edit-post")||{}).getEditorMode;return{editorMode:e?e():""}}))(g)})}else m(!1);r&&r("(prefers-color-scheme: dark)").addEventListener("change",(function(){var t=f.getItem(o.night_class),e=o.default;o.use_local_storage&&t||"auto"!==e||m(!1)})),l.on("click",o.toggle_selector,(function(t){t.preventDefault(),m()}))}function m(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(p&&p.length){var e=f.getItem(o.night_class),n=o.default;o.use_local_storage&&e?n=e:r&&"auto"===n&&(n=r("(prefers-color-scheme: dark)").matches?"night":"day"),t&&(n="day"===n?"night":"day"),p.addClass(o.switching_class),"night"===n?(p.addClass(o.night_class),t&&f.setItem(o.night_class,"night")):(p.removeClass(o.night_class),t&&f.setItem(o.night_class,"day")),p[0]&&p[0].offsetHeight,p.removeClass(o.switching_class)}}}()}()}();