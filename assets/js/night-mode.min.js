!function(){"use strict";var t,e,o={666:function(t){t.exports=function(){try{if("undefined"==typeof localStorage)return!1;if(localStorage.setItem("Storage-Test","1"),"1"!==localStorage.getItem("Storage-Test"))return!1;localStorage.removeItem("Storage-Test")}catch(t){return!1}return!0}}},r={};function s(t){var e=r[t];if(void 0!==e)return e.exports;var n=r[t]={exports:{}};return o[t](n,n.exports,s),n.exports}s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,{a:e}),e},s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t=s(666),e=s.n(t),(()=>{const{ghostFrameworkNightMode:t,matchMedia:o,jQuery:r}=window,s=!!e()()&&window.localStorage;if(void 0===t||!s)return;const n=r(document);let i=t.is_editor?r(".editor-styles-wrapper"):r("html");function a(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!i||!i.length)return;const r=s.getItem(t.night_class);let n=t.default;t.use_local_storage&&r?n=r:o&&"auto"===n&&(n=o("(prefers-color-scheme: dark)").matches?"night":"day"),e&&(n="day"===n?"night":"day"),i.addClass(t.switching_class),"night"===n?(i.addClass(t.night_class),e&&s.setItem(t.night_class,"night")):(i.removeClass(t.night_class),e&&s.setItem(t.night_class,"day")),i[0]&&i[0].offsetHeight,i.removeClass(t.switching_class)}if(t.is_editor){const{Component:t}=wp.element,{registerPlugin:e}=wp.plugins,{withSelect:o}=wp.data;class s extends t{constructor(){super(...arguments),this.state={editorMode:this.props.editorMode}}componentDidMount(){this.switch()}componentDidUpdate(){this.state.editorMode!==this.props.editorMode&&(this.setState({editorMode:this.props.editorMode}),this.switch())}switch(){i=r(".editor-styles-wrapper"),a(!1)}render(){return null}}e("ghost-framework-editor-night-mode",{render:o((t=>{const{getEditorMode:e}=t("core/edit-post")||{};return{editorMode:e?e():""}}))(s)})}else a(!1);o&&o("(prefers-color-scheme: dark)").addEventListener("change",(()=>{const e=s.getItem(t.night_class),o=t.default;t.use_local_storage&&e||"auto"!==o||a(!1)})),n.on("click",t.toggle_selector,(t=>{t.preventDefault(),a()}))})()}();